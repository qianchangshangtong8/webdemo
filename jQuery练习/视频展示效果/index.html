<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>视频展示效果</title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <script type="text/javascript" src="scripts/jquery-3.1.1.js"></script>
    <link rel="stylesheet" type="text/css" href="styles/sytle.css">
</head>

<body>
    <div class="v-show">
        <div class="v-head">
            <h3 class="v-head-h"><span>卡通动漫</span></h3>
            <div class="v-head-tip">
                <span class="current">1</span><span>2</span><span>3</span><span>4</span>
            </div>
            <div class="v-change-btn">
                <span class="prev">上一页</span>
                <span class="next">下一页</span>
            </div>
            <em><a href="#">更多>></a></em>
        </div>
        <div class="v-content">
            <div class="v-content-list">
                <ul>
                    <li>
                        <a href="#"><img src="img/01.jpg" alt="海贼王" /></a>
                        <h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
                    <li>
                        <a href="#"><img src="img/01.jpg" alt="海贼王" /></a>
                        <h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
                    <li>
                        <a href="#"><img src="img/01.jpg" alt="海贼王" /></a>
                        <h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
                    <li>
                        <a href="#"><img src="img/01.jpg" alt="海贼王" /></a>
                        <h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
                    <li>
                        <a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a>
                        <h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
                    <li>
                        <a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a>
                        <h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
                    <li>
                        <a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a>
                        <h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
                    <li>
                        <a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a>
                        <h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
                    <li>
                        <a href="#"><img src="img/03.jpg" alt="火影忍者" /></a>
                        <h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
                    <li>
                        <a href="#"><img src="img/03.jpg" alt="火影忍者" /></a>
                        <h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
                    <li>
                        <a href="#"><img src="img/03.jpg" alt="火影忍者" /></a>
                        <h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
                    <li>
                        <a href="#"><img src="img/03.jpg" alt="火影忍者" /></a>
                        <h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
                    <li>
                        <a href="#"><img src="img/04.jpg" alt="龙珠" /></a>
                        <h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
                    <li>
                        <a href="#"><img src="img/04.jpg" alt="龙珠" /></a>
                        <h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
                    <li>
                        <a href="#"><img src="img/04.jpg" alt="龙珠" /></a>
                        <h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
                    <li>
                        <a href="#"><img src="img/04.jpg" alt="龙珠" /></a>
                        <h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
                </ul>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    $(function() {
        var page = 1;
        var i = 4; //每版放4个图片
        //向后 按钮
        $("span.next").click(function() { //绑定click事件
            var $parent = $(this).parents("div.v-show"); //根据当前点击元素获取到父元素
            var $v_show = $parent.find("div.v-content-list"); //寻找到“视频内容展示区域”
            var $v_content = $parent.find("div.v-content"); //寻找到“视频内容展示区域”外围的DIV元素
            var v_width = $v_content.width();
            var len = $v_show.find("li").length;
            var page_count = Math.ceil(len / i); //只要不是整数，就往大的方向取最小的整数
            if (!$v_show.is(":animated")) { //判断“视频内容展示区域”是否正在处于动画
                if (page == page_count) { //已经到最后一个版面了,如果再向后，必须跳转到第一个版面。
                    $v_show.animate({
                        left: '0px'
                    }, "slow"); //通过改变left值，跳转到第一个版面
                    page = 1;
                } else {
                    $v_show.animate({
                        left: '-=' + v_width
                    }, "slow"); //通过改变left值，达到每次换一个版面
                    page++;
                }
                $parent.find("span").eq((page - 1)).addClass("current").siblings().removeClass("current");
            }
        });
        //往前 按钮
        $("span.prev").click(function() {
            var $parent = $(this).parents("div.v-show"); //根据当前点击元素获取到父元素
            var $v_show = $parent.find("div.v-content-list"); //寻找到“视频内容展示区域”
            var $v_content = $parent.find("div.v-content"); //寻找到“视频内容展示区域”外围的DIV元素
            var v_width = $v_content.width();
            var len = $v_show.find("li").length;
            var page_count = Math.ceil(len / i); //只要不是整数，就往大的方向取最小的整数
            if (!$v_show.is(":animated")) { //判断“视频内容展示区域”是否正在处于动画
                if (page == 1) { //已经到第一个版面了,如果再向前，必须跳转到最后一个版面。
                    $v_show.animate({
                        left: '-=' + v_width * (page_count - 1)
                    }, "slow");
                    page = page_count;
                } else {
                    $v_show.animate({
                        left: '+=' + v_width
                    }, "slow");
                    page--;
                }
                $parent.find("span").eq((page - 1)).addClass("current").siblings().removeClass("current");
            }
        });
    });
    </script>
    <!--  <script type="text/javascript">
    $(function() {
        var page = 1;
        var i = 4;
        $("span.next").click(function() { //绑定click事件
            /* Act on the event */
            var $parent = $(this).parents("div.v-show"); //根据当前单击元素找到父元素
            var $v_show = $parent.find("div.v-content-list"); //找到“视频内容展示区域
            var $v_content = $parent.find("div.v-content"); //找到”视频内容展示区域“外围的DIV

            var v_width = $v_content.width();
            var len = $v_show.find("li").length;
            var page_count = Math.ceil(len / i);
            if (!$v_show.is(":animated")) {
                if (page == page_count) {
                    $v_show.animate({
                        left: "0px"
                    }, "normal");
                    page = 1;
                } else {
                    $v_show.animate({
                        left: "-=" + v_width
                    }, "normal");
                    page++;
                }
                $parent.find("span").eq((page - 1)).addClass("current").siblings().removeClass("current");
            }

        });
        $("span.prev").click(function() { //绑定click事件
            /* Act on the event */
            var $parent = $(this).parents("div.v-show"); //根据当前单击元素找到父元素
            var $v_show = $parent.find("div.v-content-list"); //找到“视频内容展示区域
            var $v_content = $parent.find("div.v-content"); //找到”视频内容展示区域“外围的DIV

            var v_width = $v_content.width();
            var len = $v_show.find("li").length;
            var page_count = Math.ceil(len / i);
            if (!$v_show.is(":animated")) {
                if (page == 1) {
                    $v_show.animate({
                        left: "-=" + v_width * (page_count - 1)
                    }, "normal");
                    page = page_count;
                } else {
                    $v_show.animate({
                        left: "+=" + v_width
                    }, "normal");
                    page--;
                }
                $parent.find("span").eq((page - 1)).addClass("current")
                .siblings().removeClass("current");
            }

        });
    });
    </script> -->
    <script type="text/javascript">
    //测试测试测试
    $(function(){
    	var page=4;
    	var i=1;
    	$("span.next").click(function(){
    		var $parent=$(this).parents("div.v_show");//找到视频展示区域的祖宗元素元素
    		var $v_show=$parent.find("div.v_content_list");//找到视频展示区域
    		var $v_content=$parent.find("div.v_contet");//找到视频展示区域的父元素

    		var $v_width=$v_contend.width();   //一个视频区域的宽度
    		var len=$v_show.find("li").length;  //视频列表宽度
    		var page_count=Math.ceil(len/i);    //视频页数
    		if(!$v_show.is(":animated")){   //判断是否处于动画中
    			if(page==page_count){         //最后一页
    				$v_show.animate({left:"0px"},"slow");   //跳到第一页
    				page=1;
    			}else{
    				$v_show.animate({left:"-="+v_width},"slow");
    				page++;
    			}
    			$parent.find("span").eq((page-1)).addClass("current")
    			.siblings().removeClass("current");
    		}


    	});
    	$("span.prev").click(function(){
    		var $parent=$(this).parents("div.v_show");
    		var $v_show=$parent.find("div.v_content_list");
    		var $v_content=$parent.find("div.v_content");

    		var $v_width=$v_content.width();
    		var len=$v_show.find("li").length;
    		var page_count=Math.ceil(len/i);

    		if(!$v_show.is(":animated")){
    			if(page==1){   //视频在第一页
    				$v_show.animate({left:"-="+v_width*(page_count-1)},"slow");//跳到最后一页
    				page=page_count;
    			}else{
    				$v_show.animate({left:"+="+v_width},"slow");
    				page--;
    			}
    			$parent.find("span").eq((page-1)).addClass("current")
    			.siblings().removeClass("current");
    		}

    	});
    });


    </script>
</body>

</html>
